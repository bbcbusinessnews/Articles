(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[400],{29036:function(e,t,a){var r=a(85246),n=a(62034),l=a(36060),o=a(93746),i=a(56974),u=l(function(e,t){var a=i(t);return o(a)&&(a=void 0),o(e)?r(e,n(t,1,o,!0),void 0,a):[]});e.exports=u},80537:function(e,t,a){var r=a(53366),n=a(15125);e.exports=function(e){return"number"==typeof e||n(e)&&"[object Number]"==r(e)}},88144:function(e,t,a){"use strict";a.d(t,{Z:function(){return J}});var r=a(52322),n=a(2784),l=a(19832),o=a.n(l),i=a(25237),u=a.n(i),s=a(5632),c=a(3255),d=a(44729),v=a(43100);let m=e=>(0,d.qC)(e?e(0,null):null)[0],f=Promise.resolve(),g=e=>(t,a,r)=>{let l;let o=(0,n.useRef)(!1),{cache:i,initialSize:u=1,revalidateAll:s=!1,persistSize:c=!1,revalidateFirstPage:g=!0,revalidateOnMount:h=!1,parallel:Z=!1}=r;try{(l=m(t))&&(l="$inf$"+l)}catch(e){}let[w,b,p]=(0,d.JN)(i,l),y=(0,n.useCallback)(()=>{let e=(0,d.o8)(w()._l)?u:w()._l;return e},[i,l,u]);(0,v.useSyncExternalStore)((0,n.useCallback)(e=>l?p(l,()=>{e()}):()=>{},[i,l]),y,y);let k=(0,n.useCallback)(()=>{let e=w()._l;return(0,d.o8)(e)?u:e},[l,u]),S=(0,n.useRef)(k());(0,d.LI)(()=>{if(!o.current){o.current=!0;return}l&&b({_l:c?S.current:k()})},[l,i]);let x=h&&!o.current,P=e(l,async e=>{let n=w()._i,l=[],o=k(),[u]=(0,d.JN)(i,e),c=u().data,v=[],m=null;for(let e=0;e<o;++e){let[o,u]=(0,d.qC)(t(e,Z?null:m));if(!o)break;let[f,h]=(0,d.JN)(i,o),w=f().data,b=s||n||(0,d.o8)(w)||g&&!e&&!(0,d.o8)(c)||x||c&&!(0,d.o8)(c[e])&&!r.compare(c[e],w);if(a&&b){let t=async()=>{h({data:w=await a(u),_k:u}),l[e]=w};Z?v.push(t):await t()}else l[e]=w;Z||(m=w)}return Z&&await Promise.all(v.map(e=>e())),b({_i:d.i_}),l},r),C=(0,n.useCallback)(function(e,t){let a="boolean"==typeof t?{revalidate:t}:t||{},r=!1!==a.revalidate;return l?(r&&((0,d.o8)(e)?b({_i:!0}):b({_i:!1})),arguments.length?P.mutate(e,{...a,revalidate:r}):P.mutate()):f},[l,i]),_=(0,n.useCallback)(e=>{let a;if(!l)return f;let[,r]=(0,d.JN)(i,l);if((0,d.mf)(e)?a=e(k()):"number"==typeof e&&(a=e),"number"!=typeof a)return f;r({_l:a}),S.current=a;let n=[],[o]=(0,d.JN)(i,l),u=null;for(let e=0;e<a;++e){let[a]=(0,d.qC)(t(e,u)),[r]=(0,d.JN)(i,a),l=a?r().data:d.i_;if((0,d.o8)(l))return C(o().data);n.push(l),u=l}return C(n)},[l,i,C,k]);return{size:k(),setSize:_,mutate:C,get data(){return P.data},get error(){return P.error},get isValidating(){return P.isValidating},get isLoading(){return P.isLoading}}},h=(0,d.xD)(c.ZP,g);var Z=a(38787),w=a(85941),b=a(59190),p=a(60496),y=a(94132),k=a(77531),S=a(34151),x=a(24621),P=a(91697);let C={revalidateFirstPage:!1,revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1},_={populateCache:!0,revalidate:!1,rollbackOnError:!0};var N=a(29036),E=a.n(N);let j=(e,t)=>{if(t&&!t.data.length)return null;let a=o()(null==t?void 0:t.data.length,0);return["bookmarks",0,a+9]},T=(e,t)=>e.reduce((e,a)=>{let r=E()(o()(null==a?void 0:a.data,[]),e,(e,t)=>e.id===t.id);return[...e,...r].filter(e=>{let{id:a}=e;return!t.includes(a)})},[]),L=e=>{let t=e.reduce((e,t)=>Math.max(e,o()(null==t?void 0:t.data.length,0)),0),a=e.reduce((e,t)=>Math.max(e,o()(null==t?void 0:t.total,0)),0);return t<a},R=u()(()=>Promise.all([a.e(766),a.e(662)]).then(a.bind(a,85662)).then(e=>{let{NestedNavigation:t}=e;return t}),{loadableGenerated:{webpack:()=>[85662]}}),I=()=>{let e=(0,p.Z)("new-navigation"),{addError:t}=(0,y.Z)(),{isAuthenticated:a}=(0,k.Z)(),{query:l}=(0,s.useRouter)(),{slug:i}=l,u=(0,x.rv)(i),[c,d]=(0,n.useState)([]),[v,m]=(0,n.useState)(!1),f=(0,n.useCallback)(async e=>{try{return a?await (0,P.oE)(e):null}catch(e){m(!0)}},[a]),{data:g=[],isLoading:N,setSize:E,mutate:I}=h(j,f,C),J=T(g,c),O=L(g),q=()=>E(e=>e+1),A=e=>I(async a=>{let r=a.map(t=>{let{data:a,total:r,...n}=t;return{...n,data:a.filter(t=>{let{id:a}=t;return a!==e}),total:r-1}});try{await (0,P.kY)("remove",e),d(t=>[...t,e]);let t=r.reduce((e,t)=>e+o()(null==t?void 0:t.data.length,0),0);return 1===t&&O&&await q(),r}catch(e){return t("We could not remove this at the moment, try again or come back later."),a}},_),D={title:"Saved Items",mainNavigation:[],isInverseTitle:!1};return v?(0,r.jsx)(Z.Z,{}):(0,r.jsxs)(S.Z,{value:{content:J,hasMore:O,isLoading:N,onLoadMore:q,onRemoveItem:A},children:[e?(0,r.jsx)(w.Z,{isPreCurated:!1,slug:i,isBookmarksPage:!0,...D}):(0,r.jsx)(R,{slugArray:u,...D}),(0,r.jsx)(b.Z,{})]})};var J=I},16382:function(e,t,a){"use strict";var r=a(52322),n=a(5632),l=a(3255),o=a(2303),i=a(18892),u=a(94132),s=a(33558),c=a(77531),d=a(23948),v=a(24621),m=a(91697);let f=()=>{let{query:e}=(0,n.useRouter)(),{slug:t}=e,a=(0,v.rv)(t),{addError:f}=(0,u.Z)(),{subtype:g}=(0,s.Z)(),{isAuthenticated:h,isAuthEnabled:Z,isBookmarkingEnabled:w}=(0,c.Z)(),{data:b}=(0,l.ZP)(a),{id:p}=b,{mutate:y,data:k,isLoading:S}=(0,o.Z)(["bookmark",p,Z&&h&&w],m.r8),x=e=>()=>y((0,m.kY)(e,p),{optimisticData:{saved:"save"===e,id:p},populateCache:!0,revalidate:!1,rollbackOnError:!0}).catch(()=>{f("We could not ".concat("save"===e?"save":"remove"," this at the moment, try again or come back later."))}),P={data:{...k,isLoading:S},onSave:x("save"),onRemove:x("remove")};return(0,r.jsx)(d.Z,{value:P,children:(0,r.jsx)(i.Z,{slug:a,data:b,subtype:g})})};t.Z=f},94348:function(e,t,a){"use strict";var r=a(52322),n=a(2784),l=a(11478);let o=e=>{let{flagPoles:t,allowAdvertising:a,analytics:n,collection:o,destination:i,pageKey:u,pillar:s,section:c,slug:d,subtype:v,topics:m,type:f,urn:g}=e,h={pageAds:!0,playerAds:!0,xPlatform:!0,..."boolean"==typeof a?{allowAdvertising:a}:{},...t.ops?{opsFlags:t.ops}:{},...t.ngas?{ngasFlags:t.ngas}:{},pageData:{analytics:n,collection:o,destination:i,pageKey:u,pillar:s,section:c,slug:d,subtype:v,topics:m,type:f,...g?{urn:g}:{}}},Z="window.dotcom = window.dotcom || { cmd: [] }; window.dotcomConfig = ".concat(JSON.stringify(h),";");return(0,r.jsx)(l.Z,{id:"inline-dotcom-config",strategy:"beforeInteractive",innerHTML:Z})};t.Z=(0,n.memo)(o)},24898:function(e,t,a){"use strict";var r=a(52322),n=a(38787);let l=()=>(0,r.jsx)(n.Z,{});t.Z=l},54589:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var r=a(52322),n=a(5632),l=a(3255),o=a(2784),i=a(33558),u=a(60496),s=a(79760),c=function(){let{country:e}=(0,i.Z)(),t=(0,u.Z)("wntv"),a=(0,u.Z)("legacy-api"),r=t&&(null==e?void 0:e.toLowerCase())==="us",n=(0,o.useCallback)(async t=>{let{data:r}=await (0,s.Z)(t,{isLegacyApiEnabled:a,params:new URLSearchParams({country:e}),headers:new Headers({country:e})});return r},[e,a]),c=(0,l.ZP)(r?"schedule":null,n,{refreshInterval:3e5});return{worldNewsData:c,worldNewsServiceId:"bbc_world_news_north_america"}},d=a(66052),v=a(69320),m=a(24621),f=a(25237),g=a.n(f);let h=async e=>{await (0,s.Z)("form",{method:"POST",body:JSON.stringify(e),isLegacyApiEnabled:!0})},Z=g()(()=>Promise.all([a.e(766),a.e(662)]).then(a.bind(a,85662)).then(e=>{let{FeedbackForm:t}=e;return t}),{loadableGenerated:{webpack:()=>[85662]}}),w={"contact-form":[Z,h]},b=()=>{let{query:e}=(0,n.useRouter)(),{slug:t}=e,a=(0,m.rv)(t),{data:o}=(0,l.ZP)(a),{data:u=[]}=(0,l.ZP)("mainNavigation"),{worldNewsTvPath:s}=(0,i.Z)(),{worldNewsData:f,worldNewsServiceId:g}=c(),{title:h,sections:Z,hideBannerAdvert:b,isPreCurated:p}=o;return(0,r.jsx)(v.Z,{value:w,children:(0,r.jsx)(d.Z,{isPreCurated:p,slug:a,title:h,sections:Z,mainNavigation:u,worldNewsTvPath:s,worldNewsData:f,worldNewsServiceId:g,hideBannerAdvert:b})})};var p=b},32211:function(e,t,a){"use strict";var r=a(52322),n=a(5632),l=a(3255),o=a(5989),i=a(16415),u=a(24621);let s=()=>{let{query:{slug:e}}=(0,n.useRouter)(),t=(0,u.rv)(e),{data:a}=(0,l.ZP)(t),{searchText:s,setSearchText:c,onSearchClick:d}=(0,i.Z)();return(0,r.jsx)(o.Z,{recentStories:a,onSearch:d,searchText:s,onSearchTextChange:c})};t.Z=s},51918:function(e,t,a){"use strict";var r=a(52322),n=a(2784),l=a(54073),o=a.n(l),i=a(5632),u=a(2303),s=a(83181),c=a(60496),d=a(55543),v=a(37986);let m=()=>{let e=(0,c.Z)("legacy-api"),[t,a]=(0,n.useState)(0),[l,m]=(0,n.useState)(""),[f,g]=(0,n.useState)(""),{query:{q:h},push:Z}=(0,i.useRouter)(),w=(0,n.useMemo)(()=>new URLSearchParams({terms:f||h,page:String(t)}),[t,h,f]),b=(0,n.useCallback)(async t=>await (0,v.U)(t,{params:w,isLegacyApiEnabled:e}),[w]),{data:p={},isLoading:y}=(0,u.Z)("".concat(d.h,"?").concat(w.toString()),b),{results:k,pageSize:S,total:x}=p,P=o()(async e=>{await Z("/".concat(d.h,"?q=").concat(e),void 0,{shallow:!0})},500);return(0,n.useEffect)(()=>{a(0),m(h),g(h)},[h]),(0,r.jsx)(s.Z,{results:k,currentPage:t+1,itemsTotalCount:x,itemsPerPage:S,isLoading:y,searchText:l||"",submittedSearchText:f,onPageChange:e=>a(e-1),onSearchTextChange:m,onSearch:P})};t.Z=m},91697:function(e,t,a){"use strict";a.d(t,{kY:function(){return d},oE:function(){return s},r8:function(){return c}});var r=a(80537),n=a.n(r),l=a(98579),o=a(79760);let i="bookmark",u={credentials:"include",isLegacyApiEnabled:!0};async function s(e){let[,t,a]=e,r={...n()(a)?{size:a.toString()}:{},...n()(t)?{page:t.toString()}:{}},{data:{data:s,...c}}=await (0,o.Z)(i,{params:r,method:"GET",...u});return{data:s.map(l.V),...c}}async function c(e){let[,t,a]=e;if(a){let{data:e}=await (0,o.Z)(i,{params:{id:t},method:"GET",...u});return e}}async function d(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let[r,n]=t;return await (0,o.Z)(i,{params:{id:n},method:"save"===r?"POST":"DELETE",...u}),{saved:"save"===r,id:n}}}}]);